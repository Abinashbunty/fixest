<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fixed-effects maximum likelihood model — femlm • fixest</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fixed-effects maximum likelihood model — femlm" />
<meta property="og:description" content="This function estimates maximum likelihood models with any number of fixed-effects." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fixest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short introduction</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fixed-effects maximum likelihood model</h1>
    
    <div class="hidden name"><code>femlm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function estimates maximum likelihood models with any number of fixed-effects.</p>
    </div>

    <pre class="usage"><span class='fu'>femlm</span>(<span class='no'>fml</span>, <span class='no'>data</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"poisson"</span>, <span class='st'>"negbin"</span>, <span class='st'>"logit"</span>, <span class='st'>"gaussian"</span>),
  <span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='no'>fixef</span>, <span class='no'>offset</span>, <span class='no'>panel.id</span>,
  <span class='kw'>na_inf.rm</span> <span class='kw'>=</span> <span class='fu'><a href='setFixest_na_inf.rm.html'>getFixest_na_inf.rm</a></span>(), <span class='kw'>fixef.tol</span> <span class='kw'>=</span> <span class='fl'>1e-05</span>,
  <span class='kw'>fixef.iter</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>nthreads</span> <span class='kw'>=</span> <span class='fu'><a href='setFixest_nthreads.html'>getFixest_nthreads</a></span>(), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>notes</span> <span class='kw'>=</span> <span class='fu'><a href='setFixest_notes.html'>getFixest_notes</a></span>(), <span class='no'>theta.init</span>, <span class='no'>combine.quick</span>,
  <span class='no'>...</span>)

<span class='fu'>fenegbin</span>(<span class='no'>fml</span>, <span class='no'>data</span>, <span class='no'>theta.init</span>, <span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='no'>fixef</span>, <span class='no'>offset</span>, <span class='no'>panel.id</span>,
  <span class='kw'>na_inf.rm</span> <span class='kw'>=</span> <span class='fu'><a href='setFixest_na_inf.rm.html'>getFixest_na_inf.rm</a></span>(), <span class='kw'>fixef.tol</span> <span class='kw'>=</span> <span class='fl'>1e-05</span>,
  <span class='kw'>fixef.iter</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>nthreads</span> <span class='kw'>=</span> <span class='fu'><a href='setFixest_nthreads.html'>getFixest_nthreads</a></span>(), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>notes</span> <span class='kw'>=</span> <span class='fu'><a href='setFixest_notes.html'>getFixest_notes</a></span>(), <span class='no'>combine.quick</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fml</th>
      <td><p>A formula representing the relation to be estimated. For example: <code>fml = z~x+y</code>. To include fixed-effects, you can 1) either insert them in this formula using a pipe (e.g. <code>fml = z~x+y|cluster1+cluster2</code>), or 2) either use the argument <code>fixef</code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A data.frame containing the necessary variables to run the model. The variables of the non-linear right hand side of the formula are identified with this <code>data.frame</code> names. Can also be a matrix.</p></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>Character scalar. It should provide the family. The possible values are "poisson" (Poisson model with log-link, the default), "negbin" (Negative Binomial model with log-link), "logit" (LOGIT model with log-link), "gaussian" (Gaussian model).</p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>Starting values for the coefficients. Can be: i) a numeric of length 1 (e.g. <code>start = 0</code>, the default), ii) a numeric vector of the exact same length as the number of variables, or iii) a named vector of any length (the names will be used to initialize the appropriate coefficients).</p></td>
    </tr>
    <tr>
      <th>fixef</th>
      <td><p>Character vector. The name/s of a/some variable/s within the dataset to be used as fixed-effects. These variables should contain the identifier of each observation (e.g., think of it as a panel identifier).</p></td>
    </tr>
    <tr>
      <th>offset</th>
      <td><p>A formula or a numeric vector. An offset can be added to the estimation. If equal to a formula, it should be of the form (for example) <code>~0.5*x**2</code>. This offset is linearly added to the elements of the main formula 'fml'.</p></td>
    </tr>
    <tr>
      <th>panel.id</th>
      <td><p>The panel identifiers. Can either be: i) a one sided formula (e.g. <code>panel.id~id+time</code>), ii) a character vector of length 2 (e.g. <code>panel.id=c('id', 'time')</code>, or iii) a character scalar of two variables separated by a comma (e.g. <code>panel.id='id,time'</code>). Note that you can combine variables with <code>^</code> only inside formulas (see the dedicated section in <code><a href='feols.html'>feols</a></code>).</p></td>
    </tr>
    <tr>
      <th>na_inf.rm</th>
      <td><p>Logical, default is <code>TRUE</code>. If the variables necessary for the estimation contain NA/Infs and <code>na_inf.rm = TRUE</code>, then all observations containing NA are removed prior to estimation and a note is displayed detailing the number of observations removed. Otherwise, an error is raised.</p></td>
    </tr>
    <tr>
      <th>fixef.tol</th>
      <td><p>Precision used to obtain the fixed-effects (ie cluster coefficients). Defaults to <code>1e-5</code>. It corresponds to the maximum absolute difference allowed between two coefficients of successive iterations. Argument <code>fixef.tol</code> cannot be lower than <code>10000*.Machine$double.eps</code>. Note that this parameter is dynamically controlled by the algorithm.</p></td>
    </tr>
    <tr>
      <th>fixef.iter</th>
      <td><p>Maximum number of iterations in the step obtaining the fixed-effects (only in use for 2+ clusters). Default is 10000.</p></td>
    </tr>
    <tr>
      <th>nthreads</th>
      <td><p>Integer: Number of nthreads to be used (accelerates the algorithm via the use of openMP routines). The default is to use the total number of nthreads available minus two. You can set permanently the number of nthreads used within this package using the function <code><a href='setFixest_nthreads.html'>setFixest_nthreads</a></code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Integer, default is 0. It represents the level of information that should be reported during the optimisation process. If <code>verbose=0</code>: nothing is reported. If <code>verbose=1</code>: the value of the coefficients and the likelihood are reported. If <code>verbose=2</code>: <code>1</code> + information on the computing time of the null model, the cluster coefficients and the hessian are reported.</p></td>
    </tr>
    <tr>
      <th>warn</th>
      <td><p>Logical, default is <code>TRUE</code>. Whether warnings should be displayed (concerns warnings relating to: convergence state, collinearity issues and observation removal due to only 0/1 outcomes or presence of NA values).</p></td>
    </tr>
    <tr>
      <th>notes</th>
      <td><p>Logical. By default, two notes are displayed: when NAs are removed (to show additional information) and when some observations are removed because of only 0 (or 0/1) outcomes in a fixed-effect (in Poisson/Neg. Bin./Logit models). To avoid displaying these messages, you can set <code>notes = FALSE</code>. You can remove these messages permanently by using <code><a href='setFixest_notes.html'>setFixest_notes(FALSE)</a></code>.</p></td>
    </tr>
    <tr>
      <th>theta.init</th>
      <td><p>Positive numeric scalar. The starting value of the dispersion parameter if <code>family="negbin"</code>. By default, the algorithm uses as a starting value the theta obtained from the model with only the intercept.</p></td>
    </tr>
    <tr>
      <th>combine.quick</th>
      <td><p>Logical. When you combine different variables to transform them into a single fixed-effects you can do e.g. <code>y ~ x | paste(var1, var2)</code>. The algorithm provides a shorthand to do the same operation: <code>y ~ x | var1^var2</code>. Because pasting variables is a costly operation, the internal algorithm may use a numerical trick to hasten the process. The cost of doing so is that you lose the labels. If you are interested in getting the value of the fixed-effects coefficients after the estimation, you should use <code>combine.quick = FALSE</code>. By default it is equal to <code>FALSE</code> if the number of observations is lower than 50,000, and to <code>TRUE</code> otherwise.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not currently used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An <code>femlm</code> object.</p>
<dt>coefficients</dt><dd><p>The named vector of coefficients.</p></dd>
<dt>coeftable</dt><dd><p>The table of the coefficients with their standard errors, z-values and p-values.</p></dd>
<dt>loglik</dt><dd><p>The loglikelihood.</p></dd>
<dt>iterations</dt><dd><p>Number of iterations of the algorithm.</p></dd>
<dt>n</dt><dd><p>The number of observations.</p></dd>
<dt>nparams</dt><dd><p>The number of parameters of the model.</p></dd>
<dt>call</dt><dd><p>The call.</p></dd>
<dt>fml</dt><dd><p>The linear formula of the call.</p></dd>
<dt>ll_null</dt><dd><p>Log-likelihood of the null model (i.e. with the intercept only).</p></dd>
<dt>pseudo_r2</dt><dd><p>The adjusted pseudo R2.</p></dd>
<dt>message</dt><dd><p>The convergence message from the optimization procedures.</p></dd>
<dt>sq.cor</dt><dd><p>Squared correlation between the dependent variable and the expected predictor (i.e. fitted.values) obtained by the estimation.</p></dd>
<dt>hessian</dt><dd><p>The Hessian of the parameters.</p></dd>
<dt>fitted.values</dt><dd><p>The fitted values are the expected value of the dependent variable for the fitted model: that is \(E(Y|X)\).</p></dd>
<dt>cov.unscaled</dt><dd><p>The variance-covariance matrix of the parameters.</p></dd>
<dt>se</dt><dd><p>The standard-error of the parameters.</p></dd>
<dt>scores</dt><dd><p>The matrix of the scores (first derivative for each observation).</p></dd>
<dt>family</dt><dd><p>The ML family that was used for the estimation.</p></dd>
<dt>residuals</dt><dd><p>The difference between the dependent variable and the expected predictor.</p></dd>
<dt>sumFE</dt><dd><p>The sum of the fixed-effects for each observation.</p></dd>
<dt>offset</dt><dd><p>The offset formula.</p></dd>
<dt>NL.fml</dt><dd><p>The nonlinear formula of the call.</p></dd>
<dt>bounds</dt><dd><p>Whether the coefficients were upper or lower bounded. -- This can only be the case when a non-linear formula is included and the arguments 'lower' or 'upper' are provided.</p></dd>
<dt>isBounded</dt><dd><p>The logical vector that gives for each coefficient whether it was bounded or not. This can only be the case when a non-linear formula is included and the arguments 'lower' or 'upper' are provided.</p></dd>
<dt>fixef_vars</dt><dd><p>The names of each cluster.</p></dd>
<dt>fixef_id</dt><dd><p>The list (of length the number of clusters) of the cluster identifiers for each observation.</p></dd>
<dt>fixef_sizes</dt><dd><p>The size of each cluster.</p></dd>
<dt>obsRemoved</dt><dd><p>In the case there were clusters and some observations were removed because of only 0/1 outcome within a cluster, it gives the row numbers of the observations that were removed.</p></dd>
<dt>fixef_removed</dt><dd><p>In the case there were clusters and some observations were removed because of only 0/1 outcome within a cluster, it gives the list (for each cluster) of the cluster identifiers that were removed.</p></dd>
<dt>theta</dt><dd><p>In the case of a negative binomial estimation: the overdispersion parameter.</p></dd>

 @seealso
See also <a href='summary.fixest.html'>summary.fixest</a> to see the results with the appropriate standard-errors, <a href='fixef.fixest.html'>fixef.fixest</a> to extract the cluster coefficients, and the function <a href='etable.html'>etable</a> to visualize the results of multiple estimations.

And other estimation methods: <a href='feols.html'>feols</a>, femlm, <a href='feglm.html'>feglm</a>, <a href='feglm.html'>fepois</a>, fenegbin.

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function estimates maximum likelihood models where the conditional expectations are as follows:</p>
<p>Gaussian likelihood:
$$E(Y|X)=X\beta$$
Poisson and Negative Binomial likelihoods:
$$E(Y|X)=\exp(X\beta)$$
where in the Negative Binomial there is the parameter \(\theta\) used to model the variance as \(\mu+\mu^2/\theta\), with \(\mu\) the conditional expectation.
Logit likelihood:
$$E(Y|X)=\frac{\exp(X\beta)}{1+\exp(X\beta)}$$</p>
<p>When there are one or more clusters, the conditional expectation can be written as:
$$E(Y|X) = h(X\beta+\sum_{k}\sum_{m}\gamma_{m}^{k}\times C_{im}^{k}),$$
where \(h(.)\) is the function corresponding to the likelihood function as shown before. \(C^k\) is the matrix associated to cluster \(k\) such that \(C^k_{im}\) is equal to 1 if observation \(i\) is of category \(m\) in cluster \(k\) and 0 otherwise.</p>
<p>When there are non linear in parameters functions, we can schematically split the set of regressors in two:
$$f(X,\beta)=X^1\beta^1 + g(X^2,\beta^2)$$
with first a linear term and then a non linear part expressed by the function g. That is, we add a non-linear term to the linear terms (which are \(X*beta\) and the cluster coefficients). It is always better (more efficient) to put into the argument <code>NL.fml</code> only the non-linear in parameter terms, and add all linear terms in the <code>fml</code> argument.</p>
<p>To estimate only a non-linear formula without even the intercept, you must exclude the intercept from the linear formula by using, e.g., <code>fml = z~0</code>.</p>
<p>The over-dispersion parameter of the Negative Binomial family, theta, is capped at 10,000. If theta reaches this high value, it means that there is no overdispersion.</p>
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    
<ul>
<li><p><code>fenegbin</code>: Fixed-effects negative binomial estimation</p></li>
</ul>
    <h2 class="hasAnchor" id="combining-the-fixed-effects"><a class="anchor" href="#combining-the-fixed-effects"></a>Combining the fixed-effects</h2>

    

<p>You can combine two variables to make it a new fixed-effect using <code>^</code>. The syntax is as follows: <code>fe_1^fe_2</code>. Here you created a new variable which is the combination of the two variables fe_1 and fe_2. This is identical to doing <code><a href='https://rdrr.io/r/base/paste.html'>paste0(fe_1, "_", fe_2)</a></code> but more convenient.</p>
<p>Note that pasting is a costly operation, especially for large data sets. Thus, the internal algorithm uses a numerical trick which is fast, but the drawback is that the identity of each observation is lost (i.e. they are now equal to a meaningless number instead of being equal to <code><a href='https://rdrr.io/r/base/paste.html'>paste0(fe_1, "_", fe_2)</a></code>). These &#8220;identities&#8221; are useful only if you're interested in the value of the fixed-effects (that you can extract with <code><a href='fixef.fixest.html'>fixef.fixest</a></code>). If you're only interested in coefficients of the variables, it doesn't matter. Anyway, you can use <code>combine.quick = FALSE</code> to tell the internal algorithm to use <code>paste</code> instead of the numerical trick. By default, the numerical trick is performed only for large data sets.</p>
    <h2 class="hasAnchor" id="lagging-variables"><a class="anchor" href="#lagging-variables"></a>Lagging variables</h2>

    


<p>To use leads/lags of variables in the estimation, you can: i) either provide the argument <code>panel.id</code>, ii) either set you data set as a panel with the function <code><a href='panel.html'>panel</a></code>. Doing either of the two will give you acceess to the lagging functions <code><a href='l.html'>l</a></code> and <code><a href='l.html'>f</a></code>.</p>
<p>You can provide several leads/lags at once: e.g. if your formula is equal to <code>f(y) ~ l(x, -1:1)</code>, it means that the dependent variable is equal to the lead of <code>y</code>, and you will have as explanatory variables the lead of <code>x1</code>, <code>x1</code> and the lag of <code>x1</code>. See the examples in function <code><a href='l.html'>l</a></code> for more details.</p>
    <h2 class="hasAnchor" id="interactions"><a class="anchor" href="#interactions"></a>Interactions</h2>

    


<p>You can interact a variable with a "factor-like" variable by using the syntax <code>var::fe(ref)</code>, where <code>fe</code> is the variable to be interacted with and the argument <code>ref</code> is a value of <code>fe</code> taken as a reference.</p>
<p>The full syntax is: <code>var::fe(ref, confirm)</code>. You have two arguments, <code>ref</code> and <code>confirm</code>, the two are optional. The argument <code>confirm</code> is there to avoid mistakenly estimating a model with (too) many variables. If the variable <code>fe</code> takes over 100 different values, then you have to add the argument <code>confirm = TRUE</code>. It is important to note that *if you do not care about the standard-errors of the interactions*, then you can add interactions in the fixed-effects part of the formula (using the syntax fe[[var]], as explained in the section &#8220;Varying slopes&#8221;).</p>
<p>Introducing interactions with this syntax leads to a different display of the interacted values in <code><a href='etable.html'>etable</a></code> and offers a special representation of the interacted coefficients in the function <code><a href='coefplot.html'>coefplot</a></code>. See examples.</p>
<p>The syntax <code>var::fe(ref)</code> is in fact a shorthand for <code><a href='i.html'>interact(var, fe, ref)</a></code>, you have more information in <code><a href='i.html'>interact</a></code> help pages.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Berge, Laurent, 2018, "Efficient estimation of maximum likelihood models with multiple fixed-effects: the R package FENmlm." CREA Discussion Papers, 13 (<a href='https://wwwen.uni.lu/content/download/110162/1299525/file/2018_13'>https://wwwen.uni.lu/content/download/110162/1299525/file/2018_13</a>).</p>
<p>For models with multiple fixed-effects:</p>
<p>Gaure, Simen, 2013, "OLS with multiple high dimensional category variables", Computational Statistics &amp; Data Analysis 66 pp. 8--18</p>
<p>On the unconditionnal Negative Binomial model:</p>
<p>Allison, Paul D and Waterman, Richard P, 2002, "Fixed-Effects Negative Binomial Regression Models", Sociological Methodology 32(1) pp. 247--265</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>See also <code><a href='summary.fixest.html'>summary.fixest</a></code> to see the results with the appropriate standard-errors, <code><a href='fixef.fixest.html'>fixef.fixest</a></code> to extract the cluster coefficients, and the function <code><a href='etable.html'>etable</a></code> to visualize the results of multiple estimations.
And other estimation methods: <code><a href='feols.html'>feols</a></code>, <code><a href='feglm.html'>feglm</a></code>, <code><a href='feglm.html'>fepois</a></code>, <code><a href='feNmlm.html'>feNmlm</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>#</span>
<span class='co'># Linear examples</span>
<span class='co'>#</span>

<span class='co'># Load trade data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>trade</span>)

<span class='co'># We estimate the effect of distance on trade =&gt; we account for 3 fixed-effects</span>
<span class='co'># 1) Poisson estimation</span>
<span class='no'>est_pois</span> <span class='kw'>=</span> <span class='fu'>femlm</span>(<span class='no'>Euros</span> ~ <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span>(<span class='no'>dist_km</span>)<span class='kw'>|</span><span class='no'>Origin</span>+<span class='no'>Destination</span>+<span class='no'>Product</span>, <span class='no'>trade</span>)

<span class='co'># 2) Log-Log Gaussian estimation (with same FEs)</span>
<span class='no'>est_gaus</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/update.html'>update</a></span>(<span class='no'>est_pois</span>, <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span>(<span class='no'>Euros</span>+<span class='fl'>1</span>) ~ <span class='no'>.</span>, <span class='kw'>family</span><span class='kw'>=</span><span class='st'>"gaussian"</span>)

<span class='co'># Comparison of the results using the function esttable</span>
<span class='fu'><a href='etable.html'>esttable</a></span>(<span class='no'>est_pois</span>, <span class='no'>est_gaus</span>)</div><div class='output co'>#&gt;                                est_pois            est_gaus
#&gt; Dependent Var.:                   Euros        log(Euros+1)
#&gt;                                                            
#&gt; log(dist_km)        -1.5277*** (0.1156) -2.1684*** (0.1542)
#&gt; Fixed-Effects:      ------------------- -------------------
#&gt; Origin                              Yes                 Yes
#&gt; Destination                         Yes                 Yes
#&gt; Product                             Yes                 Yes
#&gt; ___________________ ___________________ ___________________
#&gt; Family                          Poisson            Gaussian
#&gt; Observations                     38,325              38,325
#&gt; S.E. type                 1-way: Origin       1-way: Origin
#&gt; Squared Corr.                     0.604               0.704
#&gt; Pseudo R2                       0.76039             0.23563
#&gt; BIC                           1.427e+12          152,525.55</div><div class='input'><span class='co'># Now using two way clustered standard-errors</span>
<span class='fu'><a href='etable.html'>esttable</a></span>(<span class='no'>est_pois</span>, <span class='no'>est_gaus</span>, <span class='kw'>se</span> <span class='kw'>=</span> <span class='st'>"twoway"</span>)</div><div class='output co'>#&gt;                                est_pois            est_gaus
#&gt; Dependent Var.:                   Euros        log(Euros+1)
#&gt;                                                            
#&gt; log(dist_km)        -1.5277*** (0.1323) -2.1684*** (0.1738)
#&gt; Fixed-Effects:      ------------------- -------------------
#&gt; Origin                              Yes                 Yes
#&gt; Destination                         Yes                 Yes
#&gt; Product                             Yes                 Yes
#&gt; ___________________ ___________________ ___________________
#&gt; Family                          Poisson            Gaussian
#&gt; Observations                     38,325              38,325
#&gt; SE type: Two-way      by: Orig. &amp; Dest.   by: Orig. &amp; Dest.
#&gt; Squared Corr.                     0.604               0.704
#&gt; Pseudo R2                       0.76039             0.23563
#&gt; BIC                           1.427e+12          152,525.55</div><div class='input'>
<span class='co'># Comparing different types of standard errors</span>
<span class='no'>sum_white</span>    <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>est_pois</span>, <span class='kw'>se</span> <span class='kw'>=</span> <span class='st'>"white"</span>)
<span class='no'>sum_oneway</span>   <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>est_pois</span>, <span class='kw'>se</span> <span class='kw'>=</span> <span class='st'>"cluster"</span>)
<span class='no'>sum_twoway</span>   <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>est_pois</span>, <span class='kw'>se</span> <span class='kw'>=</span> <span class='st'>"twoway"</span>)
<span class='no'>sum_threeway</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>est_pois</span>, <span class='kw'>se</span> <span class='kw'>=</span> <span class='st'>"threeway"</span>)

<span class='fu'><a href='etable.html'>esttable</a></span>(<span class='no'>sum_white</span>, <span class='no'>sum_oneway</span>, <span class='no'>sum_twoway</span>, <span class='no'>sum_threeway</span>)</div><div class='output co'>#&gt;                              sum_white          sum_oneway          sum_twoway
#&gt; log(dist_km)        -1.5277*** (0.022) -1.5277*** (0.1156) -1.5277*** (0.1323)
#&gt; Fixed-Effects:      ------------------ ------------------- -------------------
#&gt; Origin                             Yes                 Yes                 Yes
#&gt; Destination                        Yes                 Yes                 Yes
#&gt; Product                            Yes                 Yes                 Yes
#&gt; ___________________ __________________ ___________________ ___________________
#&gt; Observations                    38,325              38,325              38,325
#&gt; S.E. type                        White       1-way: Origin 2-way: Orig. &amp; De..
#&gt; Squared Corr.                    0.604               0.604               0.604
#&gt; Pseudo R2                      0.76039             0.76039             0.76039
#&gt; BIC                          1.427e+12           1.427e+12           1.427e+12
#&gt;                            sum_threeway
#&gt; log(dist_km)        -1.5277*** (0.1369)
#&gt; Fixed-Effects:      -------------------
#&gt; Origin                              Yes
#&gt; Destination                         Yes
#&gt; Product                             Yes
#&gt; ___________________ ___________________
#&gt; Observations                     38,325
#&gt; S.E. type           3-way: Orig. &amp; De..
#&gt; Squared Corr.                     0.604
#&gt; Pseudo R2                       0.76039
#&gt; BIC                           1.427e+12</div><div class='input'>



</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#functions">Functions</a></li>
      <li><a href="#combining-the-fixed-effects">Combining the fixed-effects</a></li>
      <li><a href="#lagging-variables">Lagging variables</a></li>
      <li><a href="#interactions">Interactions</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Laurent Berge</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


